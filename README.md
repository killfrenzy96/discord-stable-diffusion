# Shanghai - AI Powered Art in a Discord Bot!

<img src=https://cdn.discordapp.com/attachments/971549874514444358/1012400070559277086/1502073419.png?3867929 width=50% height=50%>

### Any questions or need help? Come hop on by to our Discord server!

[![Discord Server](https://discordapp.com/api/guilds/930499730843250783/widget.png?style=banner2)](https://discord.gg/Sx6Spmsgx7)

## Modifications from original fork
- Implemented loading of waifu diffusion alongside main model
- Tweaked default config
- Implemented negative prompts

## Setup
Clone the repo, then install the dependencies in ``requirements.txt``, then in ``run.bat`` include your HuggingFace token and the Discord token for your bot, then simply execute the script.

Or, if you want to skip the batch script, you can simply run this in a terminal.

``$ python . --token=DISCORD_TOKEN --hf_token=HF_TOKEN``

### Quickstart
#### Text to Image

To generate an image from text, use the ``/dream`` command and include your prompt as the query. There's tons of parameters to play with so go wild!

![image](https://user-images.githubusercontent.com/26317155/186722689-3cbca12a-531c-47f7-b87f-99918e9ed232.png)

![image](https://user-images.githubusercontent.com/26317155/186721768-3684f629-90c3-4ef2-82b8-1310200df437.png)


#### Image to Image

To generate an image from another image, use the ``/translate`` command and include a prompt and an image URL.

![image](https://user-images.githubusercontent.com/26317155/186722463-ec3a6d24-36c1-48f8-b09a-57651706848c.png)

![image](https://user-images.githubusercontent.com/26317155/186722528-7e652a21-fd02-4071-9fc1-87a31dfb6e63.png)


#### (Experimental) Inpainting

To fill in a mask in an image, supply a prompt, an image url, and a url to a mask of black pixels in a transparent image

![image](https://user-images.githubusercontent.com/26317155/186722970-71a662dc-16a8-4bb4-8696-3bafb3e08e65.png)

